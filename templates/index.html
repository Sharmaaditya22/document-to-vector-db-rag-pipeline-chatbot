<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Localhost 404 Ltd ‚Äî AI Knowledge Assistant</title>

<style>
:root {
    --primary: #6366f1;
    --secondary: #22d3ee;
    --bg-dark: #020617;
    --glass: rgba(255, 255, 255, 0.08);
    --border: rgba(255, 255, 255, 0.15);
    --text-main: #e5e7eb;
    --text-muted: #9ca3af;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Background */
body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    height: 100vh;
    background:
        radial-gradient(circle at 20% 20%, #6366f1, transparent 40%),
        radial-gradient(circle at 80% 30%, #22d3ee, transparent 40%),
        radial-gradient(circle at 50% 80%, #a78bfa, transparent 40%),
        var(--bg-dark);
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--text-main);
}

/* App shell */
.app {
    width: 92%;
    max-width: 920px;
    height: 92vh;
    background: linear-gradient(
        180deg,
        rgba(255,255,255,0.12),
        rgba(255,255,255,0.04)
    );
    backdrop-filter: blur(24px);
    border: 1px solid var(--border);
    border-radius: 22px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 40px 120px rgba(0,0,0,0.6);
}

/* Header (UPDATED) */
.header {
    padding: 26px 30px 22px;
    text-align: center;
    border-bottom: 1px solid var(--border);
}

.header h1 {
    font-size: 48px;                 /* Brand presence */
    font-weight: 900;                /* Logo-like weight */
    letter-spacing: 2px;             /* Company identity feel */
    text-transform: uppercase;       /* Makes it feel official */

    background: linear-gradient(
        135deg,
        #818cf8,
        #22d3ee,
        #a78bfa
    );

    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;

    text-shadow:
        0 0 20px rgba(129,140,248,0.5),
        0 0 40px rgba(34,211,238,0.35);
}




.header p {
    margin-top: 12px;
    font-size: 17px;
    font-weight: 600;
    letter-spacing: 0.8px;
    text-transform: uppercase;
    color: #e0e7ff;
}

/* Info */
.info {
    padding: 12px 26px;
    font-size: 12.5px;
    color: var(--text-muted);
    border-bottom: 1px solid var(--border);
    text-align: center;
}

/* Messages */
.messages {
    flex: 1;
    padding: 26px;
    overflow-y: auto;
}

.message {
    margin-bottom: 18px;
    display: flex;
}

.message.user {
    justify-content: flex-end;
}

.bubble {
    max-width: 72%;
    padding: 14px 18px;
    border-radius: 18px;
    font-size: 14.5px;
    line-height: 1.6;
}

.bot .bubble {
    background: rgba(255,255,255,0.1);
    border: 1px solid var(--border);
    backdrop-filter: blur(10px);
}

.user .bubble {
    background: linear-gradient(135deg, #6366f1, #22d3ee);
    color: #020617;
    font-weight: 500;
}

/* Input */
.input {
    padding: 18px 22px;
    border-top: 1px solid var(--border);
}

.input-row {
    display: flex;
    gap: 12px;
}

input {
    flex: 1;
    padding: 14px 18px;
    border-radius: 28px;
    border: 1px solid var(--border);
    background: rgba(255,255,255,0.12);
    color: var(--text-main);
    font-size: 14px;
}

input::placeholder {
    color: var(--text-muted);
}

input:focus {
    outline: none;
    border-color: var(--secondary);
}

button {
    padding: 14px 28px;
    border-radius: 28px;
    border: none;
    background: linear-gradient(135deg, #6366f1, #22d3ee);
    color: #020617;
    font-weight: 600;
    cursor: pointer;
}

button:disabled {
    opacity: 0.6;
}

/* Footer */
.footer {
    font-size: 11px;
    color: var(--text-muted);
    text-align: center;
    margin-top: 10px;
}
</style>
</head>

<body>
<div class="app">

    <!-- Centered highlighted header -->
    <div class="header">
        <h1>Localhost 404 Ltd</h1>
        <p>AI Knowledge Assistant</p>
    </div>

    <div class="info">
        Retrieval-Augmented Generation over indexed dummy company data
    </div>

    <div class="messages" id="messages">
    <div class="message bot">
        <div class="bubble">
            üëã I‚Äôm the official AI assistant for <strong>Localhost 404 Ltd</strong> Company.<br> 
            Ask me anything based on our indexed company data.
        </div>
    </div>
    </div>

    <div class="input">
        <div class="input-row">
            <input
                id="userInput"
                placeholder="Ask a question‚Ä¶"
                onkeypress="if(event.key==='Enter') sendMessage()"
            />
            <button id="sendBtn" onclick="sendMessage()">Send</button>
        </div>
        <div class="footer">
            Flask ¬∑ LangChain ¬∑ Chroma ¬∑ OpenAI ¬∑ RAG Demo
        </div>
    </div>

</div>

<script>
const API_URL = "http://localhost:5000/api/chat";
const messages = document.getElementById("messages");
const input = document.getElementById("userInput");
const sendBtn = document.getElementById("sendBtn");

function addMessage(text, isUser) {
    const msg = document.createElement("div");
    msg.className = `message ${isUser ? "user" : "bot"}`;

    const bubble = document.createElement("div");
    bubble.className = "bubble";
    bubble.textContent = text;

    msg.appendChild(bubble);
    messages.appendChild(msg);
    messages.scrollTop = messages.scrollHeight;
}

async function sendMessage() {
    const text = input.value.trim();
    if (!text) return;

    input.disabled = true;
    sendBtn.disabled = true;

    addMessage(text, true);
    input.value = "";

    try {
        const res = await fetch(API_URL, {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({message: text})
        });

        const data = await res.json();
        addMessage(data.response || "No response received.", false);
    } catch {
        addMessage("‚ö†Ô∏è Backend not reachable. Is Flask running?", false);
    } finally {
        input.disabled = false;
        sendBtn.disabled = false;
        input.focus();
    }
}

input.focus();
</script>
</body>
</html>
